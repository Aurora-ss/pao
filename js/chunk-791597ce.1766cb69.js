(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-791597ce"],{"11bf":function(t,e,n){t.exports=n.p+"img/item1.7cb92bdc.svg"},4132:function(t,e,n){t.exports=n.p+"img/item3.83f68375.svg"},"48c3":function(t,e,n){(function(e,i){t.exports=i(n("2b0e"))})("undefined"!==typeof self&&self,(function(t){return function(t){var e={};function n(i){if(e[i])return e[i].exports;var a=e[i]={i:i,l:!1,exports:{}};return t[i].call(a.exports,a,a.exports,n),a.l=!0,a.exports}return n.m=t,n.c=e,n.d=function(t,e,i){n.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:i})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,e){if(1&e&&(t=n(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var i=Object.create(null);if(n.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var a in t)n.d(i,a,function(e){return t[e]}.bind(null,a));return i},n.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(e,"a",e),e},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="",n(n.s="01e5")}({"01e5":function(t,e,n){"use strict";if(n.r(e),"undefined"!==typeof window){var i=window.document.currentScript,a=i&&i.src.match(/(.+\/)[^/]+\.js(\?.*)?$/);a&&(n.p=a[1])}var s=function(){var t=this,e=t._self._c;return e("div",{ref:"container",staticClass:"vue-danmaku"},[e("div",{ref:"dmContainer",class:["danmus",{show:!t.hidden},{paused:t.paused}]}),t._t("default")],2)},r=[],o=n("8bbf"),d=n.n(o),u={model:{prop:"danmus",event:"input"},props:{danmus:{type:Array,required:!0,default:()=>[]},channels:{type:Number,default:0},autoplay:{type:Boolean,default:!0},loop:{type:Boolean,default:!1},useSlot:{type:Boolean,default:!1},debounce:{type:Number,default:100},speeds:{type:Number,default:200},randomChannel:{type:Boolean,default:!1},fontSize:{type:Number,default:18},top:{type:Number,default:4},right:{type:Number,default:0},isSuspend:{type:Boolean,default:!1},extraStyle:{type:String,default:""}},data(){return{$container:null,$dmContainer:null,container:{width:0,height:0},calcChannels:0,danmuHeight:0,danmuList:[],timer:null,index:0,hidden:!1,paused:!1,danChannel:{}}},computed:{danmu(){return{height:this.danmuHeight,fontSize:this.fontSize,speeds:this.speeds,top:this.top,right:this.right}},danmaku(){return{channels:this.channels||this.calcChannels,autoplay:this.autoplay,loop:this.loop,useSlot:this.useSlot,debounce:this.debounce,randomChannel:this.randomChannel}},dataWatcher(){return JSON.parse(JSON.stringify(this.danmuList))}},watch:{danmus:{handler(t){this.danmuList=[...t]},deep:!0,immediate:!0},dataWatcher:{handler(t,e){JSON.stringify(t)!==JSON.stringify(e)&&(this.$emit("input",t),this.$emit("change",t))},deep:!0}},created(){},mounted(){this.$nextTick(()=>{this.init()})},beforeDestroy(){this.clear()},methods:{init(){this.initCore(),this.initDanmuList(),this.isSuspend&&this.initSuspendEvents(),this.danmaku.autoplay&&this.play()},initCore(){this.$container=this.$refs.container,this.$dmContainer=this.$refs.dmContainer,this.container={width:this.$container.offsetWidth,height:this.$container.offsetHeight}},initDanmuList(){this.danmuList=[...this.danmus]},play(){this.paused=!1,this.timer||(this.timer=setInterval(()=>this.draw(),this.danmaku.debounce))},draw(){if(!this.paused&&this.danmuList.length)if(this.index>this.danmuList.length-1){const t=this.$refs.dmContainer.children.length;this.danmaku.loop&&t<this.index&&(this.$emit("list-end"),this.index=0,this.insert())}else this.insert()},insert(t){const e=this.danmaku.loop?this.index%this.danmuList.length:this.index,n=t||this.danmuList[e];let i=document.createElement("div");this.danmaku.useSlot?i=this.getSlotComponent(n,e).$el:(i.innerHTML=n,i.setAttribute("style",this.extraStyle),i.style.fontSize=this.danmu.fontSize+"px",i.style.lineHeight=this.danmu.fontSize+"px"),i.classList.add("dm"),this.$dmContainer.appendChild(i),i.style.opacity=0,this.$nextTick(()=>{this.danmu.height||(this.danmuHeight=i.offsetHeight),this.channels||(this.calcChannels=Math.floor(this.container.height/(this.danmu.height+this.danmu.top)));let t=this.getChannelIndex(i);if(t>=0){const n=i.offsetWidth,a=this.danmu.height;i.classList.add("move"),i.dataset.index=e,i.style.opacity=1,i.style.top=t*(a+this.danmu.top)+"px",i.style.width=n+this.danmu.right+"px",i.style.setProperty("--dm-scroll-width",`-${this.container.width+n}px`),i.style.left=this.container.width+"px",i.style.animationDuration=this.container.width/this.danmu.speeds+"s",i.addEventListener("animationend",()=>{+i.dataset.index!==this.danmuList.length-1||this.danmaku.loop||this.$emit("play-end",i.dataset.index),this.$dmContainer&&this.$dmContainer.removeChild(i)}),this.index++}else this.$dmContainer&&this.$dmContainer.removeChild(i)})},getSlotComponent(t,e){const n=this,i=d.a.extend({props:{danmu:[String,Object],index:Number},render(t){return t("div",[n.$scopedSlots.dm({danmu:this.danmu,index:this.index})])}}),a=new i({propsData:{danmu:t,index:e}}).$mount(document.createElement("div"));return a},getChannelIndex(t){let e=[...Array(this.danmaku.channels).keys()];this.danmaku.randomChannel&&(e=e.sort(()=>.5-Math.random()));for(let n of e){const e=this.danChannel[n];if(!e||!e.length)return this.danChannel[n]=[t],t.addEventListener("animationend",()=>this.danChannel[n].splice(0,1)),n%this.danmaku.channels;for(let i=0;i<e.length;i++){const a=this.getDanRight(e[i])-10;if(a<=.88*(t.offsetWidth-e[i].offsetWidth)||a<=0)break;if(i===e.length-1)return this.danChannel[n].push(t),t.addEventListener("animationend",()=>this.danChannel[n].splice(0,1)),n%this.danmaku.channels}}return-1},getDanRight(t){const e=t.offsetWidth||parseInt(t.style.width),n=t.getBoundingClientRect().right||this.$dmContainer.getBoundingClientRect().right+e;return this.$dmContainer.getBoundingClientRect().right-n},clearTimer(){clearInterval(this.timer),this.timer=null},initSuspendEvents(){let t=[];this.$refs.dmContainer.addEventListener("mousemove",e=>{let n=e.target;n.className.includes("dm")||(n=n.closest(".dm")||e.target),n.className.includes("dm")&&(n.classList.add("pause"),t.push(n))}),this.$refs.dmContainer.addEventListener("mouseout",e=>{let n=e.target;n.className.includes("dm")||(n=n.closest(".dm")||e.target),n.className.includes("dm")&&(n.classList.remove("pause"),t.forEach(t=>{t.classList.remove("pause")}),t=[])})},clear(){this.clearTimer(),this.index=0},reset(){this.$container=null,this.$dmContainer=null,this.danmuHeight=0,this.init()},stop(){this.danChannel={},this.$dmContainer.innerHTML="",this.paused=!0,this.hidden=!1,this.clear(),this.initDanmuList()},pause(){this.paused=!0},add(t){if(this.index===this.danmuList.length)return this.danmuList.push(t),this.danmuList.length-1;{const e=this.index%this.danmuList.length;return this.danmuList.splice(e,0,t),e+1}},push(t){return this.danmuList.push(t),this.danmuList.length-1},getPlayState(){return!this.paused},show(){this.hidden=!1},hide(){this.hidden=!0},resize(){this.initCore();const t=this.$dmContainer.getElementsByClassName("dm");for(let e=0;e<t.length;e++){const n=t[e];n.style.setProperty("--dm-scroll-width",`-${this.container.width+n.offsetWidth}px`),n.style.left=this.container.width+"px",n.style.animationDuration=this.container.width/this.danmu.speeds+"s"}}}},h=u;function l(t,e,n,i,a,s,r,o){var d,u="function"===typeof t?t.options:t;if(e&&(u.render=e,u.staticRenderFns=n,u._compiled=!0),i&&(u.functional=!0),s&&(u._scopeId="data-v-"+s),r?(d=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),a&&a.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(r)},u._ssrRegister=d):a&&(d=o?function(){a.call(this,(u.functional?this.parent:this).$root.$options.shadowRoot)}:a),d)if(u.functional){u._injectStyles=d;var h=u.render;u.render=function(t,e){return d.call(e),h(t,e)}}else{var l=u.beforeCreate;u.beforeCreate=l?[].concat(l,d):[d]}return{exports:t,options:u}}n("a57b");var c=l(h,s,r,!1,null,null,null),m=c.exports;m.install=function(t){t.component("vueDanmaku",m)},"undefined"!==typeof window&&window.Vue&&window.Vue.use(m);var p=m;e["default"]=p},"378c":function(t,e,n){var i=n("a8d8");e=i(!1),e.push([t.i,".vue-danmaku{position:relative;overflow:hidden}.vue-danmaku .danmus{position:absolute;left:0;top:0;width:100%;height:100%;opacity:0;transition:all .3s}.vue-danmaku .danmus.show{opacity:1}.vue-danmaku .danmus.paused .dm.move{animation-play-state:paused}.vue-danmaku .danmus .dm{position:absolute;font-size:20px;color:#ddd;white-space:pre;transform:translateX(0);transform-style:preserve-3d}.vue-danmaku .danmus .dm.move{will-change:transform;animation-name:moveLeft;animation-timing-function:linear;animation-play-state:running}.vue-danmaku .danmus .dm.pause{animation-play-state:paused;z-index:10}@keyframes moveLeft{0%{transform:translateX(0)}to{transform:translateX(var(--dm-scroll-width))}}",""]),t.exports=e},"8bbf":function(e,n){e.exports=t},"8d94":function(t,e,n){var i=n("378c");i.__esModule&&(i=i.default),"string"===typeof i&&(i=[[t.i,i,""]]),i.locals&&(t.exports=i.locals);var a=n("c69b").default;a("f67b2c78",i,!0,{sourceMap:!1,shadowMode:!1})},a57b:function(t,e,n){"use strict";n("8d94")},a8d8:function(t,e,n){"use strict";function i(t,e){var n=t[1]||"",i=t[3];if(!i)return n;if(e&&"function"===typeof btoa){var s=a(i),r=i.sources.map((function(t){return"/*# sourceURL=".concat(i.sourceRoot||"").concat(t," */")}));return[n].concat(r).concat([s]).join("\n")}return[n].join("\n")}function a(t){var e=btoa(unescape(encodeURIComponent(JSON.stringify(t)))),n="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(e);return"/*# ".concat(n," */")}t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n=i(e,t);return e[2]?"@media ".concat(e[2]," {").concat(n,"}"):n})).join("")},e.i=function(t,n,i){"string"===typeof t&&(t=[[null,t,""]]);var a={};if(i)for(var s=0;s<this.length;s++){var r=this[s][0];null!=r&&(a[r]=!0)}for(var o=0;o<t.length;o++){var d=[].concat(t[o]);i&&a[d[0]]||(n&&(d[2]?d[2]="".concat(n," and ").concat(d[2]):d[2]=n),e.push(d))}},e}},c69b:function(t,e,n){"use strict";function i(t,e){for(var n=[],i={},a=0;a<e.length;a++){var s=e[a],r=s[0],o=s[1],d=s[2],u=s[3],h={id:t+":"+a,css:o,media:d,sourceMap:u};i[r]?i[r].parts.push(h):n.push(i[r]={id:r,parts:[h]})}return n}n.r(e),n.d(e,"default",(function(){return p}));var a="undefined"!==typeof document;if("undefined"!==typeof DEBUG&&DEBUG&&!a)throw new Error("vue-style-loader cannot be used in a non-browser environment. Use { target: 'node' } in your Webpack config to indicate a server-rendering environment.");var s={},r=a&&(document.head||document.getElementsByTagName("head")[0]),o=null,d=0,u=!1,h=function(){},l=null,c="data-vue-ssr-id",m="undefined"!==typeof navigator&&/msie [6-9]\b/.test(navigator.userAgent.toLowerCase());function p(t,e,n,a){u=n,l=a||{};var r=i(t,e);return f(r),function(e){for(var n=[],a=0;a<r.length;a++){var o=r[a],d=s[o.id];d.refs--,n.push(d)}for(e?(r=i(t,e),f(r)):r=[],a=0;a<n.length;a++)if(d=n[a],0===d.refs){for(var u=0;u<d.parts.length;u++)d.parts[u]();delete s[d.id]}}}function f(t){for(var e=0;e<t.length;e++){var n=t[e],i=s[n.id];if(i){i.refs++;for(var a=0;a<i.parts.length;a++)i.parts[a](n.parts[a]);for(;a<n.parts.length;a++)i.parts.push(v(n.parts[a]));i.parts.length>n.parts.length&&(i.parts.length=n.parts.length)}else{var r=[];for(a=0;a<n.parts.length;a++)r.push(v(n.parts[a]));s[n.id]={id:n.id,refs:1,parts:r}}}}function g(){var t=document.createElement("style");return t.type="text/css",r.appendChild(t),t}function v(t){var e,n,i=document.querySelector("style["+c+'~="'+t.id+'"]');if(i){if(u)return h;i.parentNode.removeChild(i)}if(m){var a=d++;i=o||(o=g()),e=C.bind(null,i,a,!1),n=C.bind(null,i,a,!0)}else i=g(),e=b.bind(null,i),n=function(){i.parentNode.removeChild(i)};return e(t),function(i){if(i){if(i.css===t.css&&i.media===t.media&&i.sourceMap===t.sourceMap)return;e(t=i)}else n()}}var y=function(){var t=[];return function(e,n){return t[e]=n,t.filter(Boolean).join("\n")}}();function C(t,e,n,i){var a=n?"":i.css;if(t.styleSheet)t.styleSheet.cssText=y(e,a);else{var s=document.createTextNode(a),r=t.childNodes;r[e]&&t.removeChild(r[e]),r.length?t.insertBefore(s,r[e]):t.appendChild(s)}}function b(t,e){var n=e.css,i=e.media,a=e.sourceMap;if(i&&t.setAttribute("media",i),l.ssrId&&t.setAttribute(c,e.id),a&&(n+="\n/*# sourceURL="+a.sources[0]+" */",n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+" */"),t.styleSheet)t.styleSheet.cssText=n;else{while(t.firstChild)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(n))}}}})["default"]}))},"498f":function(t,e,n){"use strict";n("a952")},"55f4":function(t,e,n){t.exports=n.p+"img/item2.f54e4c76.svg"},"7abe":function(t,e,n){"use strict";n.r(e);var i=function(){var t=this,e=t._self._c;return e("div",{staticClass:"container home"},[t._m(0),e("vue-danmaku",{ref:"danmaku",staticStyle:{height:"80px",width:"100%"},attrs:{danmus:t.barrage,loop:"",channels:2,speeds:80,"use-slot":""},scopedSlots:t._u([{key:"dm",fn:function({danmu:n}){return[e("div",{staticClass:"barrage-item"},[e("img",{attrs:{src:n.avatar,alt:""}}),e("p",[t._v(t._s(n.msg))])])]}}])}),e("div",{staticClass:"btn",on:{click:t.toDiscover}},[t._v("在线匹配 · "+t._s(t.total)+"人在线")]),e("div",{staticClass:"func"},t._l(t.authority,(function(n,i){return e("div",{key:i,staticClass:"func-item"},[e("img",{attrs:{src:n.src,alt:"",width:"34",height:"34"}}),e("p",[t._v(t._s(n.count))])])})),0)],1)},a=[function(){var t=this,e=t._self._c;return e("div",{staticClass:"topBgc"},[e("img",{attrs:{src:n("aa8c")}})])}],s=(n("14d9"),n("48c3")),r=n.n(s),o=n("1188"),d=n("11bf"),u=n.n(d),h=n("4132"),l=n.n(h),c=n("ee4a"),m=n.n(c),p=n("55f4"),f=n.n(p),g=n("e726"),v=n.n(g),y={components:{vueDanmaku:r.a},data(){return{danmus:[],total:2514,barrage:[{id:1,avatar:v.a,msg:"厨艺超赞1",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:2,avatar:v.a,msg:"厨艺超赞2",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:3,avatar:v.a,msg:"厨艺超赞3",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:4,avatar:v.a,msg:"厨艺超赞4",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:5,avatar:v.a,msg:"厨艺超赞5",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:6,avatar:v.a,msg:"厨艺超赞6",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:7,avatar:v.a,msg:"厨艺超赞7",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:8,avatar:v.a,msg:"厨艺超赞8",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:9,avatar:v.a,msg:"厨艺超赞9",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:10,avatar:v.a,msg:"厨艺超赞10",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:11,avatar:v.a,msg:"厨艺超赞11",time:5,type:o["MESSAGE_TYPE"].NORMAL},{id:12,avatar:v.a,msg:"厨艺超赞12",time:5,type:o["MESSAGE_TYPE"].NORMAL}],authority:[{src:u.a,count:"换一换"},{src:l.a,count:"附近匹配"},{src:m.a,count:"特质匹配"},{src:f.a,count:"同城匹配"}]}},mounted(){this.barrage.map(t=>{this.danmus.push(t.msg)})},methods:{toDiscover(){this.$router.push("/discover")}}},C=y,b=(n("498f"),n("2877")),S=Object(b["a"])(C,i,a,!1,null,"e70c7636",null);e["default"]=S.exports},a952:function(t,e,n){},aa8c:function(t,e,n){t.exports=n.p+"img/round.0f1eebe2.png"},e726:function(t,e,n){t.exports=n.p+"img/avatar.d5aa2543.svg"},ee4a:function(t,e,n){t.exports=n.p+"img/item4.6a48b734.svg"}}]);
//# sourceMappingURL=chunk-791597ce.1766cb69.js.map